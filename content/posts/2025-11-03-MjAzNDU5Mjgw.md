+++
title = "智谱 API 有问题啊"
date = 2025-11-03T18:20:46+08:00
draft = false
tags = ['每日一记', '胡思乱想']
flomo_slug = "MjAzNDU5Mjgw"
flomo_source = "web"
flomo_updated_at = "2025-11-16 22:00:08"
+++

前两天Claude Plus 的额度用完了。加上公司正好也在推 AI 辅助编程，叫我研究适合在公司使用的方案和相关成本。就简单研究了一下国产的AI 模型。

使用 AI 对个人来说很简单，在你能接受的范围内用业界对标的就行了，比如别人发布的代码模型是对标的 anthropic，那你就用 anthropic。但是公司层面可能会涉及一些使用门槛和相关法律政策，所以还得考虑一下综合因素。

截止当前，我觉得AI 编程直接用 claude 组合就行，claude code + claude-sonnet-4.5 模型就算最厉害的了，cursor 在乱收费之后我就没用过了，但是 claude 使用门槛比较高，不是每个人都能搞定账号和网络环境，相比之下 cursor 只要搞定账号就能开箱即用，使用门槛非常低，算是比较适合公司推广了。

但是基于对 claude code 的强大能力，我还是提了一个备用方案：claude code + 国产 AI 模型。因为我前段时间也用这个方案写过一些生产的项目，能力是比预期的还要高。最开始试过 deepseek、kimi v2 、智谱 glm-4.5，体验下来感觉最好的是 kimi v2，但是速度有点慢。我觉得目前的国产模型还是可以的，如果能用起来不至于有很明显的差距。

说回正题，正好前段时间智谱推出了 glm-4.6，说是能力有大幅提升。我的 claude 额度用完之后正好想找个备用方案，所以就准备对接体验一下 glm4.6。

本来以为是一个很简单的操作，结果却花了我好几个小时的时间。

  1. 最开始我以为只需要在 claude code 中配置一下模型用智谱的链接、秘钥和模型，因为我原来使用 glm-4.5 的时候买过，账户里面也还有余额，应该修改下使用模型就行，结果配置好后在 claude code 里面调不通。

  2. 接口报错："Your GLM Coding Plan package has expired and is temporarily unavailable. You can resume using it after renewing the subscription on the official website. https://z.ai/subscribe. " 意思就是我的订阅过期了。有点奇怪，我账户里面还有钱，就算过期了也应该要可以根据使用量计费的。

  3. 但我还是去智谱网站买了一个套餐包，我记得我用 glm-4.5 就是这样用的。结果还是不行，我就根据错误提示点击了https://z.ai/subscribe这个网站，看看是不是我的配置有问题，进去后发现这其实是智谱的国际站，和内地的开发者平台不是一个网站。账户是不通的。

  4. 多试了几次不行后我就用他们文档里面的 demo 案例试了下，看看是否 API 的密钥有问题，但是 demo 又可以调通。

  5. 这个时候就奇怪了，密钥没有问题但是在 claude code 就是不能用，报错提示还指向其他的订阅站点。在官方文档里面也搜不到对应的解决方案，我就提了一个问题工单。但是一直没有人来解决。

  6. 然后我就加了他们的微信技术社群，最后在群里提问加了他们的技术人员才定位到问题。

问题是智谱网站推出的折扣活动有两种，一直是资源包，一种是套餐包，资源包只能通过https的方式进行调用，但是不支持在 claude code 中用来编码，要用来编码需要购买套餐包。后来我按照要求购买了一个套餐包后，问题解决。

这就有点让人想吐槽了。

  1. 资源包和套餐包对客户来说不仔细看基本都区分不出来。购买容易出错。

  2. 在买错之后错误提示不能帮助解决问题，国内的订阅给成了国际版的提示，不能定位到问题。

  3. 账户有余额的情况下也被限制了使用，而且账户的 API 密钥生成的时候没有说只能用于哪个套餐或者哪个模型。

  4. 利用网站上公开的信息不能有效的解决问题，提了工单后过了两天才被接受，太久才回复。

本来是一个小问题，处理了这么久，让我对智谱的印象有点不太好了。为什么？因为这浪费了我的注意力和时间，人最宝贵的东西就是注意力和时间了。我最近工作提不起兴致，也是因为我觉得工作中做的大部分事情都是在浪费时间，业务产品没有合理的调研和规划，技术也没有话时间研究方案和设计，一味的被 deadline 追着走。只要稍微深入的问一下为什么要做这个为什么要这样做，都没有答案。我不想这样，我想多花时间做点更有意思的事情。

当然，也是我太认真了。其实别的东西优点还是有很多的，比如智谱为什么让我想用，就可能是他们大语言模型强，或者他们宣传广告做的好，虽然自己找不到解决方案，但加了他们微信技术社群后有问题也能很快被支持，这都是好的地方。

不要太在意，relax a little more。

{{< flomo images="https://ddnio-blog.oss-cn-shenzhen.aliyuncs.com/flomo/2025-11-17/1763338966_b3b94595.png|https://ddnio-blog.oss-cn-shenzhen.aliyuncs.com/flomo/2025-11-17/1763338969_0d5b88ca.png" >}}